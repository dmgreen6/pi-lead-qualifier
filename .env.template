# ==============================================
# PI LEAD QUALIFIER - Environment Configuration
# ==============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================
# AIRTABLE CONFIGURATION
# ============================================
# Get from airtable.com/create/tokens
AIRTABLE_API_KEY=pat_YOUR_API_KEY_HERE
AIRTABLE_BASE_ID=app_YOUR_BASE_ID
AIRTABLE_TABLE_ID=tbl_YOUR_TABLE_ID

# ============================================
# CLIO CONFIGURATION
# ============================================
# Obtain from Clio Developer Portal: developer.clio.com
CLIO_CLIENT_ID=your_clio_client_id
CLIO_CLIENT_SECRET=your_clio_client_secret
CLIO_ACCESS_TOKEN=your_clio_access_token
CLIO_REFRESH_TOKEN=your_clio_refresh_token
CLIO_API_BASE_URL=https://app.clio.com/api/v4

# Your firm's responsible attorney name (appears on matters)
CLIO_RESPONSIBLE_ATTORNEY=Your Attorney Name

# Optional: Set this if you want matters in a specific group
# CLIO_MATTER_GROUP_ID=123456

# ============================================
# AI CONFIGURATION
# ============================================
# OpenAI (for Tier-1 quick scoring)
OPENAI_API_KEY=sk-proj-YOUR_OPENAI_KEY_HERE

# Anthropic Claude (for Tier-2 detailed analysis)
ANTHROPIC_API_KEY=sk-ant-YOUR_ANTHROPIC_KEY_HERE
CLAUDE_MODEL=claude-sonnet-4-20250514
CLAUDE_MAX_TOKENS=1024

# ============================================
# EMAIL CONFIGURATION
# ============================================
# Gmail addresses for notifications
GMAIL_SENDER_EMAIL=your_email@yourfirm.com
GMAIL_INTAKE_EMAIL=intake@yourfirm.com
GMAIL_NOTIFICATION_EMAIL=notifications@yourfirm.com

# Paths to Gmail OAuth credentials
GMAIL_CREDENTIALS_FILE=/opt/pi-qualifier/gmail_credentials.json
GMAIL_TOKEN_FILE=/opt/pi-qualifier/gmail_token.json

# ============================================
# GEOGRAPHIC CONFIGURATION
# ============================================
# Your state (for statute of limitations)
STATE=SC

# Statute of limitations in years (default: 3 for SC personal injury)
SOL_YEARS=3

# Minimum months remaining before SOL to accept case
MIN_SOL_MONTHS=18

# Preferred counties (comma-separated, bonus points for these)
# Example for SC Lowcountry: charleston,berkeley,dorchester
PREFERRED_COUNTIES=county1,county2,county3

# Bonus points for preferred county
POINTS_TRI_COUNTY=5

# ============================================
# SCORING THRESHOLDS
# ============================================
# Points awarded for each criterion
POINTS_MEDICAL_TREATMENT=3
POINTS_CLEAR_LIABILITY=3
POINTS_INSURANCE=2
POINTS_SOL_BUFFER=1
POINTS_SERIOUS_INJURY=2

# Tier thresholds (leads with score >= threshold get that tier)
TIER1_THRESHOLD=11
TIER2_THRESHOLD=7

# ============================================
# APPLICATION SETTINGS
# ============================================
# How often to poll Airtable for new leads (seconds)
POLL_INTERVAL_SECONDS=300

# Retry settings for API failures
MAX_RETRIES=3
RETRY_DELAY_SECONDS=30

# Logging
LOG_DIR=/var/log/pi-qualifier
DEBUG_MODE=false

# Dashboard
DASHBOARD_PORT=8080
DASHBOARD_HOST=127.0.0.1

# ============================================
# GOOGLE DRIVE (Optional - for case comparison)
# ============================================
# Path to service account credentials
# GOOGLE_DRIVE_CREDENTIALS_FILE=/opt/pi-qualifier/google_drive_credentials.json
# GOOGLE_DRIVE_FOLDER_ID=your_folder_id
